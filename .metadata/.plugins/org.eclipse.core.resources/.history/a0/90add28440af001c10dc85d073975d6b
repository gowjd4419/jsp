<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
     // 로그인창에 진입했을때, login_id 라는 명칭으로 발급된 쿠키가 없을 경우
     // cookie_login.jsp로 리다이렉트 시켜서 로그인 안 한 사람의 접근을 원전차단하기.
     // 전체 쿠키목록 얻어오기
     Cookie[] cookies = request.getCookies(); // cookie_check.jsp 의 로직을 참고

     // 쿠키 목록을 반복문으로 돌려서, "login_id" 라는 명칭의 쿠키가 없다면
     // cookie_login.jsp로 리다이렉트 시키고, 있을때만 아무 행동을 하지 않는
     // 구문을 작성하기
  String str = null;
  for(int i = 0; i < cookies.length; i++){
	  str = cookies[i].getName();//쿠키 이름을 얻어오는 메서드
	  System.out.println(str);
	  // 쿠키 값을 얻어와서 콘솔에 찍어보기
	  str = cookies[i].getValue();
	  System.out.println(str);
	 
	 // 땅콩 쿠키가 존재하는지 체크해서 있으면 땅콩쿠키가 존재합니다
	 // 없으면 땅콩 쿠키가 존재하지 않습니다. 라고 출력해주는 코드
	 if(str.equals("login_id")){
		 response.sendRedirect("http://localhost:8181/JSPBasic/jspobject/cookie/cookie_login.jsp");
	 }
  }
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h1>로그인하셨습니다. 환영합니다.</h1>
<a href="http://localhost:8181/JSPBasic/jspobject/cookie/cookie_login.jsp">로그아웃</a>
</body>
</html>