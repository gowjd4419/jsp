<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%
    // 로그인을 이미 한 사용자가 로그인창으로 다시 접근할 경우
    // login_ok.jsp로 강제로 이동시켜서 로그인창이 안 보이게 해주기
    // 힌트 : login_id
   Cookie[] cookies = request.getCookies();// 쿠키 목록 가져오기
   
   // login_id인 쿠키가 발견되면 해당 쿠키 유효기간 0초로 만들고 (*cookie.setMaxAge(유효초))
	 for(Cookie cookie : cookies){
		 String cookieName = cookie.getName();
	     if(cookieName.equals("login_id")){
	    	 cookie.setMaxAge(0); // 쿠키 유효기간을 0초로 만들고
	    	 response.addCookie(cookie); // 갱신 발급까지 꼭 마쳐줘야함
	     }
	 }
   // 리다이렉트로 로그인창으로 보내기. for문 밖에서 돌리는 이유는 바깥쪽에 위치를해야 login_id 쿠키가 없다해도 돌려보내야하기때문
   response.sendRedirect("http://localhost:8181/JSPBasic/jspobject/cookie/cookie_login.jsp");
   
%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
    <%-- form을 이용해
    목적지 : cookie_login_check.jsp, 메서드 : post
    name : id name : pw 를 submit 버튼을 통해 전달하기 --%>
    <form action=http://localhost:8181/JSPBasic/jspobject/cookie/cookie_login_check.jsp method=post>
    ID : <input type = "text" name="id" placeholder="아이디"><br>
    PW : <input type = "password" name="pw" placeholder="비밀번호"><br>
    <input type="submit" value="로그인">
    </form>
</body>
</html>